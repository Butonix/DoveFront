(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-702aa13d"],{"4e91":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-data-table",{staticClass:"elevation-1",attrs:{options:e.options,headers:e.headers,items:e.items.results,"server-items-length":e.getTotalPaginationData,"items-per-page":e.getItemsPerPageCount,loading:e.loading,"loading-text":"Loading provinces...","footer-props":{showFirstLastPage:!0,disableItemsPerPage:!0,itemsPerPageOptions:[1,5,10,50],itemsPerPageText:"Rows per page:",pageText:e.options.page+"-"+e.getTotalPaginationData+" of "+e.getTotalPaginationData}},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"grey lighten-2"}},[n("v-avatar",{staticClass:"elevation-2 table-avatar",attrs:{size:"30"}},[n("v-icon",{attrs:{color:"white",size:"15"}},[e._v(" mdi-office-building-marker-outline ")])],1),n("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:e.$vuetify.breakpoint.smAndUp,expression:"$vuetify.breakpoint.smAndUp"}],staticClass:"table-title pl-1"},[e._v(" Provinces ")]),n("v-divider",{staticClass:"mx-4 search-follower",attrs:{inset:"",vertical:""}}),n("v-text-field",{staticClass:"search-follower",attrs:{solo:"",dense:"","hide-details":"",label:"",name:"search","prepend-inner-icon":"mdi-magnify",clearable:"",placeholder:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),n("v-spacer"),n("v-divider",{staticClass:"mx-4 search-follower",attrs:{inset:"",vertical:""}}),n("v-btn",{attrs:{dark:"",color:"primary"},on:{click:function(t){return t.preventDefault(),e.openCreateFormDialog(t)}}},[n("v-icon",{class:e.$vuetify.breakpoint.smAndUp?"mr-2":"",attrs:{dark:""}},[e._v(" mdi-plus-circle ")]),e.$vuetify.breakpoint.smAndUp?n("span",[e._v("Province")]):e._e()],1),n("add-province-form-dialog",{on:{reload:e.initialize}})],1)]},proxy:!0},{key:"item.name",fn:function(t){return[n("v-edit-dialog",{attrs:{dark:""},on:{save:function(n){return e.updateName(t.item)},open:function(n){return e.openNameUpdate(t.item.name)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"Province Name","single-line":"",counter:""},model:{value:e.nameToUpdate,callback:function(t){e.nameToUpdate=t},expression:"nameToUpdate"}})]},proxy:!0}],null,!0),model:{value:t.item.name,callback:function(n){e.$set(t.item,"name",n)},expression:"props.item.name"}},[e._v(" "+e._s(t.item.name)+" ")])]}},{key:"item.number",fn:function(t){return[n("v-edit-dialog",{attrs:{dark:""},on:{save:function(n){return e.updateNumber(t.item)},open:function(n){return e.openNumberUpdate(t.item.number)}},scopedSlots:e._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"Province Number","single-line":"",counter:"",type:"number"},model:{value:e.numberToUpdate,callback:function(t){e.numberToUpdate=t},expression:"numberToUpdate"}})]},proxy:!0}],null,!0),model:{value:t.item.number,callback:function(n){e.$set(t.item,"number",n)},expression:"props.item.number"}},[e._v(" "+e._s(t.item.number)+" ")])]}},{key:"item.created_at",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatDate(n.created_at))+" ")]}},{key:"item.updated_at",fn:function(t){var n=t.item;return[e._v(" "+e._s(e.formatDate(n.updated_at))+" ")]}},{key:"item.actions",fn:function(t){var a=t.item;return[n("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.openAdminDeleteItemDialog(a.id,a.name)}}},[e._v(" mdi-delete ")])]}}])}),n("admin-delete-item-dialog",{attrs:{"model-name":"province","delete-action":"location/deleteProvince"},on:{reload:e.initialize}})],1)},i=[],r=n("c964"),o=n("f3f3"),s=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("25f0"),n("b0c0"),n("2f62")),c=n("7d85"),l=n("b9ae"),u=n("7400"),d=n("a43b"),p=n("3022"),m={name:"ProvincesTable",components:{AddProvinceFormDialog:function(){return n.e("chunk-99b5e608").then(n.bind(null,"333e"))}},mixins:[l["a"],u["a"],c["a"]],data:function(){return{model:"province",headers:[{text:"actions",sortable:!1,value:"actions"},{text:"ID",value:"id"},{text:"NAME",value:"name"},{text:"NUMBER",value:"number"},{text:"CREATED AT",value:"created_at"},{text:"UPDATED AT",value:"updated_at"}],nameToUpdate:null,numberToUpdate:null}},computed:Object(o["a"])({},Object(s["b"])({provinces:"location/provincesList"})),methods:{openCreateFormDialog:function(){this.$bus.emit("open-add-province-form")},initialize:function(){var e=arguments,t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=e.length>0&&void 0!==e[0]?e[0]:null,t.loading=!0,a||(a=t.options.page),n.next=5,t.$store.dispatch("location/fetchAllProvinces",{page:a});case 5:t.items=t.provinces,t.totalItems=t.provinces.count,t.loading=!1;case 8:case"end":return n.stop()}}),n)})))()},updateName:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$api.patch(p.format(d.location.provinceDetail,e.id),{name:t.nameToUpdate});case 3:return n.next=5,t.openSnack("Province updated successfully","success");case 5:n.next=17;break;case 7:if(n.prev=7,n.t0=n["catch"](0),a=parseInt(n.t0.response.status.toString()),400!==a){n.next=15;break}return n.next=13,t.openSnack(n.t0.response.data["name"][0]);case 13:n.next=17;break;case 15:return n.next=17,t.openSnack("Province update failed");case 17:return n.next=19,t.initialize(t.options.page);case 19:case"end":return n.stop()}}),n,null,[[0,7]])})))()},openNameUpdate:function(e){this.nameToUpdate=e},updateNumber:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,t.$api.patch(p.format(d.location.provinceDetail,e.id),{number:t.numberToUpdate});case 3:return n.next=5,t.openSnack("Province updated successfully","success");case 5:return n.next=7,t.initialize();case 7:n.next=19;break;case 9:if(n.prev=9,n.t0=n["catch"](0),a=parseInt(n.t0.response.status.toString()),400!==a){n.next=17;break}return n.next=15,t.openSnack(n.t0.response.data["number"][0]);case 15:n.next=19;break;case 17:return n.next=19,t.openSnack("Province update failed");case 19:case"end":return n.stop()}}),n,null,[[0,9]])})))()},openNumberUpdate:function(e){this.numberToUpdate=e}}},v=m,f=n("2877"),h=n("6544"),g=n.n(h),b=n("8212"),x=n("8336"),k=n("8fea"),_=n("ce7e"),T=n("7679"),y=n("132d"),w=n("2fa4"),P=n("8654"),C=n("71d9"),U=n("2a7f"),$=Object(f["a"])(v,a,i,!1,null,"0b2f9bdf",null);t["default"]=$.exports;g()($,{VAvatar:b["a"],VBtn:x["a"],VDataTable:k["a"],VDivider:_["a"],VEditDialog:T["a"],VIcon:y["a"],VSpacer:w["a"],VTextField:P["a"],VToolbar:C["a"],VToolbarTitle:U["a"]})},7679:function(e,t,n){"use strict";n("c79c");var a=n("e4d3"),i=n("7560"),r=n("80d2"),o=n("afdd"),s=n("326d"),c=n("58df");t["a"]=Object(c["a"])(a["a"],i["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(e){e?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var e=this.$refs.content.querySelector("input");e&&e.focus()},genButton:function(e,t){return this.$createElement(o["a"],{props:{text:!0,color:"primary",light:!0},on:{click:e}},t)},genActions:function(){var e=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){e.save(e.returnValue),e.$emit("save")}),this.saveText)])},genContent:function(){var e=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(t){t.keyCode===r["y"].esc&&e.cancel(),t.keyCode===r["y"].enter&&(e.save(e.returnValue),e.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(e){var t=this;return e(s["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(e){return t.isActive=e}},scopedSlots:{activator:function(n){var a=n.on;return e("div",{staticClass:"v-small-dialog__activator",on:a},[e("span",{staticClass:"v-small-dialog__activator__content"},t.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},c79c:function(e,t,n){}}]);
//# sourceMappingURL=chunk-702aa13d.1c0b1ef5.js.map