(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-08e84639"],{"5ac7":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"comment-container mx-2"},[e.comments?n("v-list",{staticClass:"comment-histories",attrs:{"two-line":"",dense:""}},e._l(e.comments,(function(t,r){return n("v-list-item",{key:t.id,staticClass:"pl-0"},[n("v-avatar",{staticClass:"d-flex justify-content-center ma-2 elevation-4 comment-avatar",style:"border: "+e.colors[r%10],attrs:{size:"45",tile:"",color:e.colors[r%10]}},[n("span",{staticClass:"white--text headline"},[e._v(" "+e._s(e.$helper.getUsernameInitials(t.writer))+" ")])]),n("v-list-item-content",{staticClass:"pl-0"},[n("v-list-item-title",[t.writer?n("code",{staticClass:"comment-writer mx-1"},[e._v(" "+e._s(t.writer.username)+" ")]):e._e(),n("code",{staticClass:"comment-created-at mx-1"},[e._v(" "+e._s(e.$moment(t.created_at).fromNow())+" ")]),n("v-icon",{attrs:{small:""}},[e._v(" mdi-reply-circle ")])],1),n("v-list-item-subtitle",{staticClass:"comment-text"},[e._v(" "+e._s(t.comment)+" ")])],1)],1)})),1):e._e(),n("v-divider",{staticClass:"my-2"}),n("div",{staticClass:"comment-box pb-2"},[n("v-text-field",{staticClass:"comment",attrs:{outlined:"",dense:"","hide-details":"auto",placeholder:"Add a comment"},on:{keyup:e.submitIfEnterIsPressed},scopedSlots:e._u([{key:"append",fn:function(){return[n("v-icon",{staticClass:"send-icon-button",attrs:{color:"primary"},on:{click:e.addCommentToPost}},[e._v(" mdi-send ")])]},proxy:!0}]),model:{value:e.comment.comment,callback:function(t){e.$set(e.comment,"comment",t)},expression:"comment.comment"}})],1)],1)},s=[],a=n("c964"),i=(n("96cf"),n("a9e3"),n("fb6a"),{name:"CommentComponent",props:{postId:{type:Number,required:!0}},data:function(){return{colors:["#1F7087","#731231","#254f0d","#6d190d","#952175","#64410d","#952175","#105414","#60250f","#10405f"],comment:{comment:null,multimedia:null},latestCommentTime:null,comments:null}},created:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)})))()},methods:{init:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("multimedia/fetchCommentsForId",{id:e.postId});case 2:n=t.sent,0===n.count?n=[]:n.count<=6?n=n.results:n.count>6&&(n=n.results.slice(0,6)),e.comments=n;case 5:case"end":return t.stop()}}),t)})))()},submitIfEnterIsPressed:function(e){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(13!==e.keyCode){n.next=3;break}return n.next=3,t.addCommentToPost();case 3:case"end":return n.stop()}}),n)})))()},addCommentToPost:function(){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.comment.multimedia=e.postId,t.next=3,e.$store.dispatch("multimedia/postComment",{body:e.comment});case 3:if(n=t.sent,!0!==n){t.next=10;break}return e.comment.comment="",t.next=8,e.init();case 8:t.next=17;break;case 10:if(500!==n){t.next=15;break}return t.next=13,e.openSnack("Internal server error. Please try again later");case 13:t.next=17;break;case 15:return t.next=17,e.openSnack(n.comment[0]);case 17:case"end":return t.stop()}}),t)})))()}}}),o=i,c=(n("64ab"),n("2877")),m=n("6544"),l=n.n(m),u=n("8212"),d=n("ce7e"),v=n("132d"),p=n("8860"),f=n("da13"),h=n("5d23"),b=n("8654"),x=Object(c["a"])(o,r,s,!1,null,"6519976d",null);t["default"]=x.exports;l()(x,{VAvatar:u["a"],VDivider:d["a"],VIcon:v["a"],VList:p["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VTextField:b["a"]})},"5f84":function(e,t,n){},"64ab":function(e,t,n){"use strict";n("5f84")},"8ce9":function(e,t,n){},ce7e:function(e,t,n){"use strict";var r=n("f3f3"),s=(n("8ce9"),n("7560"));t["a"]=s["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(e){var t;return this.$attrs.role&&"separator"!==this.$attrs.role||(t=this.vertical?"vertical":"horizontal"),e("hr",{class:Object(r["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(r["a"])({role:"separator","aria-orientation":t},this.$attrs),on:this.$listeners})}})}}]);
//# sourceMappingURL=chunk-08e84639.93dfb404.js.map