(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-701ab49e"],{"3a82":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-data-table",{staticClass:"elevation-1",attrs:{options:e.options,headers:e.headers,items:e.items.results,"server-items-length":e.getTotalPaginationData,"items-per-page":e.getItemsPerPageCount,loading:e.loading,"loading-text":"Loading vdcs...","footer-props":{showFirstLastPage:!0,disableItemsPerPage:!0,itemsPerPageOptions:[1,5,10,50],itemsPerPageText:"Rows per page:",pageText:e.options.page+"-"+e.getTotalPaginationData+" of "+e.getTotalPaginationData}},on:{"update:options":function(t){e.options=t}},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:"",color:"grey lighten-2"}},[a("v-avatar",{staticClass:"elevation-2 table-avatar",attrs:{size:"30"}},[a("v-icon",{attrs:{color:"white",size:"15"}},[e._v(" mdi-office-building-marker-outline ")])],1),a("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:e.$vuetify.breakpoint.smAndUp,expression:"$vuetify.breakpoint.smAndUp"}],staticClass:"table-title pl-1"},[e._v(" VDCs ")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-text-field",{attrs:{solo:"",dense:"","hide-details":"",label:"",name:"search","prepend-inner-icon":"mdi-magnify",clearable:"",placeholder:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),a("v-spacer"),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-btn",{attrs:{dark:"",color:"primary"},on:{click:function(t){return t.preventDefault(),e.openCreateFormDialog(t)}}},[a("v-icon",{class:e.$vuetify.breakpoint.smAndUp?"mr-2":"",attrs:{dark:""}},[e._v(" mdi-plus-circle ")]),e.$vuetify.breakpoint.smAndUp?a("span",[e._v("VDC")]):e._e()],1),a("add-vdc-form-dialog",{on:{reload:e.initialize}})],1)]},proxy:!0},{key:"item.name",fn:function(t){return[a("v-edit-dialog",{attrs:{dark:""},on:{save:function(a){return e.updateName(t.item)},open:function(a){return e.openNameUpdate(t.item.name)}},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{label:"VDC Name","single-line":"",counter:""},model:{value:e.nameToUpdate,callback:function(t){e.nameToUpdate=t},expression:"nameToUpdate"}})]},proxy:!0}],null,!0),model:{value:t.item.name,callback:function(a){e.$set(t.item,"name",a)},expression:"props.item.name"}},[e._v(" "+e._s(t.item.name)+" ")])]}},{key:"item.created_at",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatDate(a.created_at))+" ")]}},{key:"item.updated_at",fn:function(t){var a=t.item;return[e._v(" "+e._s(e.formatDate(a.updated_at))+" ")]}},{key:"item.actions",fn:function(t){var n=t.item;return[a("v-icon",{attrs:{small:"",color:"red"},on:{click:function(t){return e.openAdminDeleteItemDialog(n.id,n.name)}}},[e._v(" mdi-delete ")])]}}])}),a("admin-delete-item-dialog",{attrs:{"model-name":"vdc","delete-action":"location/deleteVdc"},on:{reload:e.initialize}})],1)},i=[],o=a("c964"),s=a("f3f3"),r=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("25f0"),a("b0c0"),a("2f62")),c=a("7d85"),l=a("b9ae"),d=a("7400"),u=a("3022"),p=a("a43b"),m={name:"VDCsTable",components:{AddVdcFormDialog:function(){return a.e("chunk-99452e5c").then(a.bind(null,"7344"))}},mixins:[l["a"],d["a"],c["a"]],data:function(){return{model:"vdc",headers:[{text:"actions",sortable:!1,value:"actions"},{text:"ID",value:"id"},{text:"NAME",value:"name"},{text:"CREATED AT",value:"created_at"},{text:"UPDATED AT",value:"updated_at"}],nameToUpdate:null}},computed:Object(s["a"])({},Object(r["b"])({vdcs:"location/vdcsList"})),methods:{openCreateFormDialog:function(){this.$bus.emit("open-add-vdc-form")},initialize:function(){var e=arguments,t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]?e[0]:null,t.loading=!0,n||(n=t.options.page),a.next=5,t.$store.dispatch("location/filterVdc",{page:n});case 5:t.items=t.vdcs,t.totalItems=t.vdcs.count,t.loading=!1;case 8:case"end":return a.stop()}}),a)})))()},updateName:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,t.$api.patch(u.format(p.location.vdcDetail,e.id),{name:t.nameToUpdate});case 3:return a.next=5,t.openSnack("Vdc updated successfully","success");case 5:a.next=17;break;case 7:if(a.prev=7,a.t0=a["catch"](0),n=parseInt(a.t0.response.status.toString()),400!==n){a.next=15;break}return a.next=13,t.openSnack(a.t0.response.data["name"][0]);case 13:a.next=17;break;case 15:return a.next=17,t.openSnack("Vdc update failed");case 17:return a.next=19,t.initialize(t.options.page);case 19:case"end":return a.stop()}}),a,null,[[0,7]])})))()},openNameUpdate:function(e){this.nameToUpdate=e}}},v=m,f=a("2877"),g=a("6544"),h=a.n(g),b=a("8212"),k=a("8336"),x=a("8fea"),_=a("ce7e"),C=a("7679"),T=a("132d"),y=a("2fa4"),D=a("8654"),V=a("71d9"),w=a("2a7f"),$=Object(f["a"])(v,n,i,!1,null,"2d904187",null);t["default"]=$.exports;h()($,{VAvatar:b["a"],VBtn:k["a"],VDataTable:x["a"],VDivider:_["a"],VEditDialog:C["a"],VIcon:T["a"],VSpacer:y["a"],VTextField:D["a"],VToolbar:V["a"],VToolbarTitle:w["a"]})},7679:function(e,t,a){"use strict";a("c79c");var n=a("e4d3"),i=a("7560"),o=a("80d2"),s=a("afdd"),r=a("326d"),c=a("58df");t["a"]=Object(c["a"])(n["a"],i["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(e){e?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var e=this.$refs.content.querySelector("input");e&&e.focus()},genButton:function(e,t){return this.$createElement(s["a"],{props:{text:!0,color:"primary",light:!0},on:{click:e}},t)},genActions:function(){var e=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){e.save(e.returnValue),e.$emit("save")}),this.saveText)])},genContent:function(){var e=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(t){t.keyCode===o["y"].esc&&e.cancel(),t.keyCode===o["y"].enter&&(e.save(e.returnValue),e.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(e){var t=this;return e(r["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(e){return t.isActive=e}},scopedSlots:{activator:function(a){var n=a.on;return e("div",{staticClass:"v-small-dialog__activator",on:n},[e("span",{staticClass:"v-small-dialog__activator__content"},t.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}})},c79c:function(e,t,a){}}]);
//# sourceMappingURL=chunk-701ab49e.26c68c6a.js.map