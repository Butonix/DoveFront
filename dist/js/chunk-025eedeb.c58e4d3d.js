(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-025eedeb"],{"5ac7":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"comment-container mx-2"},[t.comments?n("v-list",{staticClass:"comment-histories",attrs:{"two-line":"",dense:""}},t._l(t.comments,(function(e){return n("v-list-item",{key:e.id,staticClass:"pl-0"},[n("v-avatar",{staticClass:"d-flex justify-content-center ma-2 elevation-4 comment-avatar",attrs:{size:"45",tile:"",color:t.$constants.pickBackgroundColor()}},[n("span",{staticClass:"white--text headline"},[t._v(" "+t._s(t.$helper.getUsernameInitials(e.writer))+" ")])]),n("v-list-item-content",{staticClass:"pl-0"},[n("v-list-item-title",[e.writer?n("code",{staticClass:"comment-writer mx-1"},[t._v(" "+t._s(e.writer.username)+" ")]):t._e(),n("code",{staticClass:"comment-created-at mx-1"},[t._v(" "+t._s(t.$moment(e.created_at).fromNow())+" ")]),n("v-icon",{attrs:{small:""}},[t._v(" mdi-reply-circle ")])],1),n("v-list-item-subtitle",{staticClass:"comment-text"},[t._v(" "+t._s(e.comment)+" ")])],1)],1)})),1):t._e(),n("v-divider",{staticClass:"my-2"}),n("div",{staticClass:"comment-box pb-2"},[n("v-text-field",{staticClass:"comment",attrs:{outlined:"",dense:"","hide-details":"auto",placeholder:"Add a comment"},on:{keyup:t.submitIfEnterIsPressed},scopedSlots:t._u([{key:"append",fn:function(){return[n("v-icon",{staticClass:"send-icon-button",attrs:{color:"primary"},on:{click:t.addCommentToPost}},[t._v(" mdi-send ")])]},proxy:!0}]),model:{value:t.comment.comment,callback:function(e){t.$set(t.comment,"comment",e)},expression:"comment.comment"}})],1)],1)},s=[],a=n("c964"),i=(n("96cf"),n("a9e3"),n("fb6a"),{name:"CommentComponent",props:{postId:{type:Number,required:!0}},data:function(){return{comment:{comment:null,multimedia:null},latestCommentTime:null,comments:null}},created:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.init();case 2:case"end":return e.stop()}}),e)})))()},methods:{init:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("multimedia/fetchCommentsForId",{id:t.postId});case 2:n=e.sent,0===n.count?n=[]:n.count<=6?n=n.results:n.count>6&&(n=n.results.slice(0,6)),t.comments=n;case 5:case"end":return e.stop()}}),e)})))()},submitIfEnterIsPressed:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(13!==t.keyCode){n.next=3;break}return n.next=3,e.addCommentToPost();case 3:case"end":return n.stop()}}),n)})))()},addCommentToPost:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.comment.multimedia=t.postId,e.next=3,t.$store.dispatch("multimedia/postComment",{body:t.comment});case 3:if(n=e.sent,!0!==n){e.next=10;break}return t.comment.comment="",e.next=8,t.init();case 8:e.next=17;break;case 10:if(500!==n){e.next=15;break}return e.next=13,t.openSnack("Internal server error. Please try again later");case 13:e.next=17;break;case 15:return e.next=17,t.openSnack(n.comment[0]);case 17:case"end":return e.stop()}}),e)})))()}}}),c=i,o=(n("fccf"),n("2877")),m=n("6544"),l=n.n(m),u=n("8212"),d=n("ce7e"),v=n("132d"),p=n("8860"),f=n("da13"),h=n("5d23"),b=n("8654"),x=Object(o["a"])(c,r,s,!1,null,"354d11d3",null);e["default"]=x.exports;l()(x,{VAvatar:u["a"],VDivider:d["a"],VIcon:v["a"],VList:p["a"],VListItem:f["a"],VListItemContent:h["a"],VListItemSubtitle:h["b"],VListItemTitle:h["c"],VTextField:b["a"]})},"5bd1":function(t,e,n){},"8ce9":function(t,e,n){},ce7e:function(t,e,n){"use strict";var r=n("f3f3"),s=(n("8ce9"),n("7560"));e["a"]=s["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:Object(r["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(r["a"])({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})},fccf:function(t,e,n){"use strict";n("5bd1")}}]);
//# sourceMappingURL=chunk-025eedeb.c58e4d3d.js.map