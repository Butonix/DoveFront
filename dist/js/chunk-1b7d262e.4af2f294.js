(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1b7d262e"],{"1d40":function(e,r,t){"use strict";t("88dd")},"2a7f":function(e,r,t){"use strict";t.d(r,"a",(function(){return i}));var n=t("71d9"),a=t("80d2"),i=Object(a["i"])("v-toolbar__title"),o=Object(a["i"])("v-toolbar__items");n["a"]},3408:function(e,r,t){},"63e8":function(e,r,t){},"6a9b":function(e,r,t){"use strict";var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-toolbar",{staticClass:"mx-auto",staticStyle:{"border-radius":"4px"},attrs:{"max-width":"1000",color:"transparent",height:"55"}},[t("v-app-bar-nav-icon",[t("v-avatar",{staticClass:"elevation-4",attrs:{size:"36",color:"grey lighten-2"}},[t("v-icon",{attrs:{color:"primary"}},[e._v(" mdi-bird ")])],1)],1),t("v-toolbar-title",{staticClass:"toolbar-title"},[e._v(" "+e._s(e.$route.name)+" ")]),t("v-spacer")],1)},a=[],i={name:"HeaderToolbar"},o=i,c=(t("1d40"),t("2877")),s=t("6544"),l=t.n(s),u=t("5bc1"),f=t("8212"),p=t("132d"),d=t("2fa4"),m=t("71d9"),h=t("2a7f"),v=Object(c["a"])(o,n,a,!1,null,"5671d4ca",null);r["a"]=v.exports;l()(v,{VAppBarNavIcon:u["a"],VAvatar:f["a"],VIcon:p["a"],VSpacer:d["a"],VToolbar:m["a"],VToolbarTitle:h["a"]})},"7d85":function(e,r,t){"use strict";var n=t("c964"),a=(t("96cf"),{methods:{openSnack:function(e){var r=arguments,t=this;return Object(n["a"])(regeneratorRuntime.mark((function n(){var a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"error",n.next=3,t.$store.dispatch("snack/setSnackState",!0);case 3:return n.next=5,t.$store.dispatch("snack/setSnackColor",a);case 5:return n.next=7,t.$store.dispatch("snack/setSnackText",e);case 7:case"end":return n.stop()}}),n)})))()}}});r["a"]=a},"7eee":function(e,r,t){"use strict";var n=t("c964"),a=t("f3f3"),i=(t("96cf"),t("2f62")),o={data:function(){return{country:null,countriesLoading:!1}},computed:Object(a["a"])({},Object(i["b"])({countries:"location/countriesList"})),watch:{country:function(e){var r=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e){t.next=5;break}return r.countriesLoading=!0,t.next=4,r.$store.dispatch("location/filterCountries",{search:e});case 4:r.countriesLoading=!1;case 5:case"end":return t.stop()}}),t)})))()}}};r["a"]=o},8212:function(e,r,t){"use strict";var n=t("f3f3"),a=(t("a9e3"),t("3408"),t("a9ad")),i=t("24b2"),o=t("a236"),c=t("80d2"),s=t("58df");r["a"]=Object(s["a"])(a["a"],i["a"],o["a"]).extend({name:"v-avatar",props:{left:Boolean,right:Boolean,size:{type:[Number,String],default:48}},computed:{classes:function(){return Object(n["a"])({"v-avatar--left":this.left,"v-avatar--right":this.right},this.roundedClasses)},styles:function(){return Object(n["a"])({height:Object(c["g"])(this.size),minWidth:Object(c["g"])(this.size),width:Object(c["g"])(this.size)},this.measurableStyles)}},render:function(e){var r={staticClass:"v-avatar",class:this.classes,style:this.styles,on:this.$listeners};return e("div",this.setBackgroundColor(this.color,r),this.$slots.default)}})},"88dd":function(e,r,t){},b082:function(e,r,t){"use strict";t("f1e0")},b8d2:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-card",{staticClass:"no-radius",attrs:{flat:"","min-height":"100vh",loading:e.loading}},[t("header-toolbar"),e.currentUser?t("v-row",{staticClass:"ma-0 pa-0"},[t("profile-form-header",{attrs:{icon:"mdi-account-circle",title:"Update Your Information"}}),t("text-field",{attrs:{label:"First name",name:"first_name",icon:"mdi-format-text",errors:e.followerFormErrors},on:{change:function(r){return e.patchFollower({first_name:e.currentUser.first_name})}},model:{value:e.currentUser.first_name,callback:function(r){e.$set(e.currentUser,"first_name",r)},expression:"currentUser.first_name"}}),t("text-field",{attrs:{label:"last name",name:"last_name",icon:"mdi-format-text",errors:e.followerFormErrors},on:{change:function(r){return e.patchFollower({last_name:e.currentUser.last_name})}},model:{value:e.currentUser.last_name,callback:function(r){e.$set(e.currentUser,"last_name",r)},expression:"currentUser.last_name"}}),t("text-field",{attrs:{label:"username",name:"username",icon:"mdi-account-circle",errors:e.followerFormErrors},on:{change:function(r){return e.patchFollower({username:e.currentUser.username})}},model:{value:e.currentUser.username,callback:function(r){e.$set(e.currentUser,"username",r)},expression:"currentUser.username"}}),t("text-field",{attrs:{type:"email",label:"email address",name:"email",icon:"mdi-at",errors:e.followerFormErrors},on:{change:function(r){return e.patchFollower({email:e.currentUser.email})}},model:{value:e.currentUser.email,callback:function(r){e.$set(e.currentUser,"email",r)},expression:"currentUser.email"}}),t("profile-form-header",{attrs:{icon:"mdi-face",title:"Update Profile Information"}}),t("text-field",{attrs:{type:"number",label:"Contact",name:"contact",icon:"mdi-phone",errors:e.formErrors},on:{change:function(r){return e.patchProfile({contact:e.profile.contact})}},model:{value:e.currentUser.profile.contact,callback:function(r){e.$set(e.currentUser.profile,"contact",r)},expression:"currentUser.profile.contact"}}),t("text-area",{attrs:{label:"BIO",name:"bio",counter:"1024",icon:"mdi-text-account",errors:e.formErrors},on:{change:function(r){return e.patchProfile({bio:e.profile.bio})}},model:{value:e.profile.bio,callback:function(r){e.$set(e.profile,"bio",r)},expression:"profile.bio"}}),t("date-picker-field",{attrs:{label:"Birthday",name:"birth_date",icon:"mdi-cake-variant",errors:e.formErrors},on:{change:function(r){return e.patchProfile({birth_date:e.profile.birth_date})}},model:{value:e.profile.birth_date,callback:function(r){e.$set(e.profile,"birth_date",r)},expression:"profile.birth_date"}}),t("profile-form-header",{attrs:{icon:"mdi-map-marker",title:"Location Information"}}),t("text-field",{attrs:{label:"Home town",name:"home_town",icon:"mdi-home-map-marker",counter:"64",errors:e.formErrors},on:{change:function(r){return e.patchProfile({home_town:e.profile.home_town})}},model:{value:e.profile.home_town,callback:function(r){e.$set(e.profile,"home_town",r)},expression:"profile.home_town"}}),t("country-field",{attrs:{id:"country",province:e.profile.province,errors:e.formErrors},on:{change:function(r){return e.patchProfile({country:e.profile.country})}},model:{value:e.profile.country,callback:function(r){e.$set(e.profile,"country",r)},expression:"profile.country"}}),t("province-field",{attrs:{id:"province",country:e.profile.country,district:e.profile.district,errors:e.formErrors},on:{change:function(r){return e.patchProfile({province:e.profile.province})}},model:{value:e.profile.province,callback:function(r){e.$set(e.profile,"province",r)},expression:"profile.province"}}),t("district-field",{attrs:{province:e.profile.province,municipality:e.profile.municipality,vdc:e.profile.vdc,errors:e.formErrors},on:{change:function(r){return e.patchProfile({district:e.profile.district})}},model:{value:e.profile.district,callback:function(r){e.$set(e.profile,"district",r)},expression:"profile.district"}}),t("municipality-field",{attrs:{district:e.profile.district,ward:e.profile.municipality_ward,vdc:e.profile.vdc,errors:e.formErrors},on:{change:function(r){return e.patchProfile({municipality:e.profile.municipality})}},model:{value:e.profile.municipality,callback:function(r){e.$set(e.profile,"municipality",r)},expression:"profile.municipality"}}),t("municipality-ward-field",{attrs:{municipality:e.profile.municipality,vdc:e.profile.vdc,errors:e.formErrors},on:{change:function(r){return e.patchProfile({municipality_ward:e.profile.municipality_ward})}},model:{value:e.profile.municipality_ward,callback:function(r){e.$set(e.profile,"municipality_ward",r)},expression:"profile.municipality_ward"}}),t("vdc-field",{attrs:{district:e.profile.district,ward:e.profile.vdc_ward,municipality:e.profile.municipality,errors:e.formErrors},on:{change:function(r){return e.patchProfile({vdc:e.profile.vdc})}},model:{value:e.profile.vdc,callback:function(r){e.$set(e.profile,"vdc",r)},expression:"profile.vdc"}}),t("vdc-ward-field",{attrs:{municipality:e.profile.municipality,vdc:e.profile.vdc,errors:e.formErrors},on:{change:function(r){return e.patchProfile({vdc_ward:e.profile.vdc_ward})}},model:{value:e.profile.vdc_ward,callback:function(r){e.$set(e.profile,"vdc_ward",r)},expression:"profile.vdc_ward"}}),t("text-field",{attrs:{label:"Current city",name:"current_city",icon:"mdi-map-marker-radius",counter:"64",errors:e.formErrors},on:{change:function(r){return e.patchProfile({current_city:e.profile.current_city})}},model:{value:e.profile.current_city,callback:function(r){e.$set(e.profile,"current_city",r)},expression:"profile.current_city"}})],1):e._e()],1)},a=[],i=t("c964"),o=t("f3f3"),c=(t("96cf"),t("2f62")),s=t("7d85"),l=(t("7eee"),function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("v-toolbar",{staticClass:"profile-form-header elevation-1",attrs:{height:"50",flat:"",tile:""}},[t("v-app-bar-nav-icon",[t("v-icon",[e._v(" "+e._s(e.icon)+" ")])],1),t("v-toolbar-title",{staticClass:"form-header-title pa-0"},[e._v(" "+e._s(e.title.toUpperCase())+" ")])],1)}),u=[],f={name:"ProfileFormHeader",props:{icon:{type:String,required:!0},title:{type:String,required:!0}}},p=f,d=(t("ee17"),t("2877")),m=t("6544"),h=t.n(m),v=t("5bc1"),b=t("132d"),w=t("71d9"),x=t("2a7f"),g=Object(d["a"])(p,l,u,!1,null,null,null),y=g.exports;h()(g,{VAppBarNavIcon:v["a"],VIcon:b["a"],VToolbar:w["a"],VToolbarTitle:x["a"]});var _=t("6a9b"),k={name:"ChangePassword",components:{HeaderToolbar:_["a"],ProfileFormHeader:y},mixins:[s["a"]],props:{value:Boolean},data:function(){return{loading:null,profile:{}}},computed:Object(o["a"])(Object(o["a"])({},Object(c["b"])({formErrors:"profile/updateFormErrors",followerFormErrors:"user/userCreateFormErrors"})),{},{currentUser:function(){return this.$helper.getCurrentUser()}}),created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.init();case 2:case"end":return r.stop()}}),r)})))()},methods:{init:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:e.loading=!0,e.profile=Object(o["a"])({},e.currentUser.profile),e.currentUser.profile.contact&&(e.currentUser.profile.contact=e.currentUser.profile.contact.substring(4)),e.loading=!1;case 4:case"end":return r.stop()}}),r)})))()},patchProfile:function(e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.loading=!0,t.next=3,r.$store.dispatch("profile/update",{id:r.currentUser.id,body:e,myProfile:!0});case 3:return n=t.sent,t.next=6,r.openSnack("Profile updated successfully.","success");case 6:if(!0!==n){t.next=11;break}return t.next=9,r.openSnack("Profile updated successfully.","success");case 9:t.next=18;break;case 11:if(!1!==n){t.next=16;break}return t.next=14,r.openSnack("Profile updated failed. Try again.");case 14:t.next=18;break;case 16:return t.next=18,r.openSnack("Please fill valid data.");case 18:r.loading=!1;case 19:case"end":return t.stop()}}),t)})))()},patchFollower:function(e){var r=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r.loading=!0,t.next=3,r.$store.dispatch("user/update",{id:r.currentUser.id,body:e,myProfile:!0});case 3:if(n=t.sent,!0!==n){t.next=9;break}return t.next=7,r.openSnack("Follower information updated successfully.","success");case 7:t.next=16;break;case 9:if(!1!==n){t.next=14;break}return t.next=12,r.openSnack("Follower information updated failed. Try again.");case 12:t.next=16;break;case 14:return t.next=16,r.openSnack("Please fill valid data.");case 16:r.loading=!1;case 17:case"end":return t.stop()}}),t)})))()},updateProfile:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return e.loading=!0,t={contact:e.profile.contact,bio:e.profile.bio,birth_date:e.profile.birth_date},r.next=4,e.$store.dispatch("profile/update",{id:e.currentUser.profile.id,body:t});case 4:r.sent,e.loading=!1;case 6:case"end":return r.stop()}}),r)})))()}}},U=k,$=(t("b082"),t("b0af")),O=t("0fd9"),P=Object(d["a"])(U,n,a,!1,null,"4b19f612",null);r["default"]=P.exports;h()(P,{VCard:$["a"],VRow:O["a"]})},ee17:function(e,r,t){"use strict";t("63e8")},f1e0:function(e,r,t){}}]);
//# sourceMappingURL=chunk-1b7d262e.4af2f294.js.map