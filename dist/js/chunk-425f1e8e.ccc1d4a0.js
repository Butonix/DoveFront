(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-425f1e8e"],{"0315":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.target?i("v-card",{staticClass:"mx-auto",attrs:{tile:"",flat:"",loading:t.loading}},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12"}},[t._t("media")],2),i("v-col",{attrs:{cols:"12"}},[i("div",{attrs:{id:"postDetail"}},[i("div",{staticClass:"py-2"}),t.target["uploaded_by"]?i("v-card-title",{staticClass:"pt-0 display-1"},[i("div",[t._v(" "+t._s(t.target.title)+" "),i("v-btn",{attrs:{icon:""},on:{click:t.openUpdateName}},[t.ifWriterIsCurrentUser?i("v-icon",{attrs:{size:"22",color:"primary"}},[t._v(" mdi-pencil ")]):t._e()],1)],1)]):t._e(),i("v-slide-y-transition",[t.showTitleUpdate?i("v-text-field",{ref:"eventName",staticClass:"px-2",attrs:{counter:"255",outlined:"",dense:"",rounded:"","prepend-inner-icon":"mdi-text"},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-btn",{staticClass:"send-icon-button",staticStyle:{"margin-top":"-6px"},attrs:{color:"indigo",icon:""},on:{click:t.updateName}},[i("v-icon",[t._v(" mdi-send ")])],1)]},proxy:!0}],null,!1,1405710238),model:{value:t.titleToUpdate,callback:function(e){t.titleToUpdate=e},expression:"titleToUpdate"}}):t._e()],1),i("v-divider"),i("div",{staticClass:"post-auth-subtitle"},[i("div",{staticClass:"item"},[i("v-icon",{staticClass:"post-auth-icon pr-1",attrs:{size:"16",color:"primary"}},[t._v(" mdi-account-circle ")]),t.target["uploaded_by"]?i("div",[t._v(" "+t._s(t.writer)+" ")]):t._e()],1),i("div",{staticClass:"item"},[i("v-icon",{staticClass:"post-auth-icon pl-1",attrs:{size:"16",color:"teal"}},[t._v(" mdi-calendar-plus ")]),i("div",[t._v(" "+t._s(t.formatDate(t.target["timestamp"]))+" ")])],1),i("div",{staticClass:"item"},[i("v-icon",{staticClass:"post-auth-icon",attrs:{size:"16",color:"green"}},[t._v(" mdi-calendar-check ")]),i("div",[t._v(" "+t._s(t.formatDate(t.target.approved_at))+" ")])],1)]),t.target["uploaded_by"]?i("v-card-text",{staticClass:"py-0 pb-2"},[i("span",[t._v(" "+t._s(t.target.description)+" "),!t.target.description&&t.ifWriterIsCurrentUser?i("v-btn",{attrs:{depressed:"",color:"grey lighten-3",rounded:""},on:{click:t.openUpdateDescription}},[i("v-fade-transition",[t.showDescriptionUpdate?i("span",[t._v(" Cancel ")]):i("span",[t._v("Add description")])])],1):t._e()],1)]):t._e(),i("v-slide-y-transition",[t.showDescriptionUpdate?i("v-textarea",{ref:"description",staticClass:"mx-3",attrs:{outlined:"",rounded:"",counter:"10000","auto-grow":"","prepend-inner-icon":"mdi-text"},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-btn",{staticClass:"send-icon-button",attrs:{icon:"",color:"primary"},on:{click:t.updateDescription}},[i("v-icon",[t._v(" mdi-send ")])],1)]},proxy:!0}],null,!1,1059210559),model:{value:t.descriptionUpdate,callback:function(e){t.descriptionUpdate=e},expression:"descriptionUpdate"}}):t._e()],1),i("v-divider"),i("v-card-text",{staticClass:"py-6 d-flex justify-center align-center"},[i("span",[i("IconWithTooltip",{staticClass:"px-2",attrs:{icon:"mdi-check-decagram",color:t.target.is_approved?"green darken-1":"grey darken-1",tooltip:"Approved"}}),i("IconWithTooltip",{staticClass:"px-2",attrs:{icon:"mdi-account-music",color:"blue darken-1",tooltip:"Follower"}}),t.ifWriterIsMember?i("IconWithTooltip",{staticClass:"px-1",attrs:{icon:"mdi-account-network",color:"blue darken-1",tooltip:"Member"}}):t._e(),i("IconWithTooltip",{staticClass:"px-2",attrs:{icon:"mdi-video",color:"orange darken-3",tooltip:"Multimedia"}})],1)]),i("v-divider")],1),t.$vuetify.breakpoint.smAndDown&&t.target?i("PostDetailActionsComponent",{attrs:{target:t.target},on:{"focus-comment":function(e){return t.$refs.comment.focus()}}}):t._e()],1),t.$vuetify.breakpoint.smAndDown?i("v-col",{attrs:{cols:"12"}},[t._t("comments"),i("v-divider")],2):t._e(),t.$vuetify.breakpoint.smAndDown?i("v-col",{staticClass:"pa-2",attrs:{cols:"12"}},[i("v-textarea",{ref:"comment",staticClass:"comment",attrs:{outlined:"",rounded:"",color:"primary",placeholder:"Add your comment here...","hide-details":"auto",clearable:"","auto-grow":"","prepend-inner-icon":"mdi-comment"},scopedSlots:t._u([{key:"append",fn:function(){return[i("v-btn",{staticClass:"send-icon-button",staticStyle:{"margin-top":"-8px"},attrs:{icon:""},on:{click:t.addCommentToPost}},[i("v-icon",{attrs:{color:"primary"}},[t._v(" mdi-send ")])],1)]},proxy:!0}],null,!1,1906085667),model:{value:t.comment.comment,callback:function(e){t.$set(t.comment,"comment",e)},expression:"comment.comment"}})],1):t._e()],1)],1):t._e()},a=[],r=i("1da1"),o=(i("96cf"),i("d3b7"),i("3ca3"),i("ddb0"),i("a4d3"),i("e01a"),i("7d85")),s={name:"BasePostDetailComponent",components:{IconWithTooltip:function(){return i.e("chunk-03b9afa1").then(i.bind(null,"a5aa"))},PostDetailActionsComponent:function(){return Promise.resolve().then(i.bind(null,"5d14"))}},mixins:[o["a"]],props:{target:{type:Object,required:!0}},data:function(){return{loading:!1,isFollower:!1,isMember:!0,showTitleUpdate:!1,showDescriptionUpdate:!1,comment:{comment:null,multimedia:null},titleToUpdate:null,descriptionUpdate:null}},computed:{ifWriterIsCurrentUser:function(){if(this.$helper.isUserLoggedIn())return this.$helper.getCurrentUser().username===this.target["uploaded_by"]["username"]},writer:function(){return this.target["uploaded_by"]["username"]},ifWriterIsMember:function(){var t=this.target["uploaded_by"];return!!t&&null!==t.member}},created:function(){this.titleToUpdate=this.target.title,this.descriptionUpdate=this.target.description},methods:{openUpdateName:function(){var t=this;this.titleToUpdate=this.target.title,this.showTitleUpdate?this.showTitleUpdate=!1:(this.showTitleUpdate=!0,this.$nextTick((function(){t.$refs.eventName.focus()})))},openUpdateDescription:function(){var t=this;this.descriptionUpdate=this.target.description,this.showDescriptionUpdate?this.showDescriptionUpdate=!1:(this.showDescriptionUpdate=!0,this.$nextTick((function(){t.$refs.description.focus()})))},updatePost:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function i(){return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:return i.next=2,e.$store.dispatch("multimedia/patch",{id:e.target.id,body:t});case 2:case"end":return i.stop()}}),i)})))()},updateName:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updatePost({title:t.titleToUpdate});case 2:t.showTitleUpdate=!1;case 3:case"end":return e.stop()}}),e)})))()},updateDescription:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updatePost({description:t.descriptionUpdate});case 2:t.showDescriptionUpdate=!1;case 3:case"end":return e.stop()}}),e)})))()},formatDate:function(t){return this.$moment(t).format("MMMM Do YYYY")},addCommentToPost:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.comment.multimedia=t.target.id,e.next=3,t.$store.dispatch("multimedia/postComment",{body:t.comment});case 3:return e.next=5,t.$store.dispatch("multimedia/getSingle",{id:t.target.id});case 5:t.comment.comment="";case 6:case"end":return e.stop()}}),e)})))()}}},c=s,d=(i("609b"),i("2877")),l=i("6544"),p=i.n(l),u=i("8336"),m=i("b0af"),v=i("99d9"),h=i("62ad"),f=i("ce7e"),g=i("0789"),b=i("132d"),_=i("0fd9"),w=i("8654"),x=i("a844"),C=Object(d["a"])(c,n,a,!1,null,"6c90a4b4",null);e["default"]=C.exports;p()(C,{VBtn:u["a"],VCard:m["a"],VCardText:v["c"],VCardTitle:v["d"],VCol:h["a"],VDivider:f["a"],VFadeTransition:g["d"],VIcon:b["a"],VRow:_["a"],VSlideYTransition:g["g"],VTextField:w["a"],VTextarea:x["a"]})},"126a":function(t,e,i){},"609b":function(t,e,i){"use strict";i("126a")}}]);
//# sourceMappingURL=chunk-425f1e8e.ccc1d4a0.js.map