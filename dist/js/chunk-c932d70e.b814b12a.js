(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c932d70e"],{"2a01":function(e,t,n){},"43db":function(e,t,n){e.exports=n.p+"img/noPostsImg.1a99b482.jpg"},"9bbb":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.multimedias?r("div",[e.loading?r("list-skeleton"):r("div",[0===e.multimedias.length?r("no-home-data",{attrs:{image:n("43db")}}):r("v-card",{attrs:{flat:"",tile:"","min-height":"100vh",color:"transparent"}},[e._l(e.multimedias,(function(t){return r("div",{key:t.id,staticClass:"mb-2"},[r("base-post-card",{attrs:{post:t},scopedSlots:e._u([{key:"media",fn:function(){return[r("v-col",{staticClass:"pt-0 px-2",attrs:{cols:"12"}},[r("v-card",{attrs:{height:"45vh",dark:"",rounded:"xl"}},[r("v-carousel",{attrs:{height:"45vh","hide-delimiters":"","show-arrows-on-hover":""},scopedSlots:e._u([{key:"next",fn:function(n){var a=n.on,i=n.attrs;return[r("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.moreThanOneItem(t),expression:"moreThanOneItem(post)"}],style:e.carouselNavItemStyle,attrs:{dark:"",icon:""},on:{click:function(t){return e.pauseAllPlaying()}}},"v-btn",i,!1),a),[r("v-icon",[e._v("mdi-chevron-right")])],1)]}},{key:"prev",fn:function(n){var a=n.on,i=n.attrs;return[r("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.moreThanOneItem(t),expression:"moreThanOneItem(post)"}],style:e.carouselNavItemStyle,attrs:{dark:"",icon:""},on:{click:function(t){return e.pauseAllPlaying()}}},"v-btn",i,!1),a),[r("v-icon",[e._v("mdi-chevron-left")])],1)]}}],null,!0)},[e._l(t["multimedia_images"],(function(t){return r("v-carousel-item",{key:e.$helper.replaceBackendHost(t.image)},[r("v-card",{attrs:{height:"45vh"}},[r("v-img",{attrs:{src:e.$helper.replaceBackendHost(t.image),height:"45vh"}})],1)],1)})),e._l(t["multimedia_videos"],(function(t){return r("v-carousel-item",{key:e.$helper.replaceBackendHost(t.video)},[r("v-card",{staticClass:"ma-0 pa-0",attrs:{height:"45vh","max-width":"100%",dark:""}},[r("video",{attrs:{poster:e.$helper.replaceBackendHost(t.poster),controls:"",height:"100%",width:"100%",src:e.$helper.replaceBackendHost(t.video)},on:{play:e.onPlay}})])],1)})),e._l(t["multimedia_video_urls"],(function(t){return r("v-carousel-item",{key:t.video_url},[r("youtube",{ref:"yt",refInFor:!0,attrs:{height:"100%",width:"100%","video-id":e.$youtube.getIdFromUrl(t.video_url),nocookie:"","player-vars":e.playerVars},on:{playing:e.playing}})],1)}))],2)],1)],1)]},proxy:!0}],null,!0)})],1)})),r("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.handleScrollToBottom,expression:"handleScrollToBottom"}]})],2)],1)],1):e._e()},a=[],i=n("1da1"),o=n("5530"),c=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("99af"),n("ac1f"),n("5319"),n("a7b3")),u=n("2f62"),s={name:"MultimediaList",components:{ListSkeleton:function(){return n.e("chunk-3d838df6").then(n.bind(null,"e6e1"))},BasePostCard:function(){return Promise.all([n.e("chunk-c9a5872a"),n.e("chunk-702f994c")]).then(n.bind(null,"ebae"))},NoHomeData:function(){return n.e("chunk-945978f0").then(n.bind(null,"006b"))}},mixins:[c["a"]],data:function(){return{carouselNavItemStyle:"height: 30px !important; width: 30px !important;",dialog:!1,playerVars:{autoplay:0,origin:window.location.href},loading:!0,posts:[],occurrence:0,next:{next:null,count:0}}},computed:Object(o["a"])({},Object(u["b"])({multimedias:"multimedia/list",nextInfo:"multimedia/next"})),watch:{"$route.query.type":{handler:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.$store.dispatch("multimedia/filter",{is_approved:!0,type:e});case 2:t.next=t.nextInfo,t.loading=!1;case 4:case"end":return n.stop()}}),n)})))()},immediate:!0}},methods:Object(o["a"])(Object(o["a"])({},Object(u["c"])("multimedia",["MERGE_MULTIMEDIAS","SET_NEXT"])),{},{pauseAllPlaying:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.pauseAllYt();case 2:return t.next=4,e.pauseAllPlayingHTMLVideos();case 4:case"end":return t.stop()}}),t)})))()},moreThanOneItem:function(e){var t=e["multimedia_images"],n=e["multimedia_videos"],r=e["multimedia_video_urls"],a=[];return a=a.concat(t),a=a.concat(n),a=a.concat(r),a.length>1},handleScrollToBottom:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e){n.next=9;break}if(t.occurrence++,!(t.occurrence>1)){n.next=9;break}if(!(t.nextInfo.next&&t.nextInfo.count>=1)){n.next=9;break}return n.next=6,t.$api.getWithPayload(t.next.next.replace("http://sachchaikendranepal.org.np:8000","https://backend.sachchaikendranepal.org.np"));case 6:r=n.sent,t.MERGE_MULTIMEDIAS(r.results),t.SET_NEXT({next:r.next,previous:r.previous,count:r.count});case 9:case"end":return n.stop()}}),n)})))()}})},l=s,d=(n("9c03"),n("2877")),m=n("6544"),p=n.n(m),h=n("8336"),f=n("b0af"),v=n("5e66"),g=n("3e35"),y=n("62ad"),b=n("132d"),w=n("adda"),x=Object(d["a"])(l,r,a,!1,null,"b59fb540",null);t["default"]=x.exports;p()(x,{VBtn:h["a"],VCard:f["a"],VCarousel:v["a"],VCarouselItem:g["a"],VCol:y["a"],VIcon:b["a"],VImg:w["a"]})},"9c03":function(e,t,n){"use strict";n("2a01")},a7b3:function(e,t,n){"use strict";var r=n("1da1"),a=(n("96cf"),n("159b"),{computed:{player:function(){return this.$refs.youtube.yt}},created:function(){window.addEventListener("scroll",this.handleScroll);var e=document.querySelector(".router-column");e&&e.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll);var e=document.querySelector(".router-column");e&&e.removeEventListener("scroll",this.handleScroll)},methods:{isElementOnViewPort:function(e){if(!e)return!1;var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)},handleScroll:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(n=document.querySelectorAll("video"),n.forEach((function(t){var n=e.isElementOnViewPort(t);n||t.paused||t.pause()})),!Array.isArray(e.$refs.yt)){t.next=5;break}return t.next=5,e.$refs.yt.forEach(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.player.getPlayerState();case 2:if(r=t.sent,a=e.isElementOnViewPort(n.$parent.$el),a){t.next=8;break}if(1!==r){t.next=8;break}return t.next=8,n.player.pauseVideo();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})))()},onPlay:function(e){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,t.pauseAllYt();case 2:document.querySelectorAll("video").forEach((function(t){t!==e.currentTarget&&(t.paused||t.pause())}));case 3:case"end":return n.stop()}}),n)})))()},pauseAllPlayingHTMLVideos:function(){document.querySelectorAll("video").forEach((function(e){e.paused||e.pause()}))},playing:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.pauseAllPlayingHTMLVideos(),!Array.isArray(e.$refs.yt)){t.next=4;break}return t.next=4,e.$refs.yt.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.player.get){e.next=3;break}return e.next=3,t.player.pauseVideo();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()},pauseAllYt:function(){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Array.isArray(e.$refs.yt)){t.next=3;break}return t.next=3,e.$refs.yt.forEach(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.player.getPlayerState();case 2:n=e.sent,1===n&&t.player.pauseVideo();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()}}});t["a"]=a}}]);
//# sourceMappingURL=chunk-c932d70e.b814b12a.js.map