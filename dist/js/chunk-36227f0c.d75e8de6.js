(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36227f0c","chunk-2d0e6c6b","chunk-2d0e6c6b","chunk-2d0e6c6b","chunk-2d0e6c6b"],{"169a":function(t,e,n){"use strict";var i=n("f3f3"),a=n("d0ff"),r=n("fc11"),s=(n("a9e3"),n("498a"),n("caad"),n("2532"),n("7db0"),n("368e"),n("480e")),o=n("4ad4"),c=n("b848"),l=n("75eb"),d=n("e707"),u=n("e4d3"),m=n("21be"),v=n("f2e7"),h=n("a293"),f=n("58df"),p=n("d9bd"),g=n("80d2"),b=Object(f["a"])(o["a"],c["a"],l["a"],d["a"],u["a"],m["a"],v["a"]);e["a"]=b.extend({name:"v-dialog",directives:{ClickOutside:h["a"]},props:{dark:Boolean,disabled:Boolean,fullscreen:Boolean,light:Boolean,maxWidth:{type:[String,Number],default:"none"},noClickAnimation:Boolean,origin:{type:String,default:"center center"},persistent:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,transition:{type:[String,Boolean],default:"dialog-transition"},width:{type:[String,Number],default:"auto"}},data:function(){return{activatedBy:null,animate:!1,animateTimeout:-1,isActive:!!this.value,stackMinZIndex:200,previousActiveElement:null}},computed:{classes:function(){var t;return t={},Object(r["a"])(t,"v-dialog ".concat(this.contentClass).trim(),!0),Object(r["a"])(t,"v-dialog--active",this.isActive),Object(r["a"])(t,"v-dialog--persistent",this.persistent),Object(r["a"])(t,"v-dialog--fullscreen",this.fullscreen),Object(r["a"])(t,"v-dialog--scrollable",this.scrollable),Object(r["a"])(t,"v-dialog--animated",this.animate),t},contentClasses:function(){return{"v-dialog__content":!0,"v-dialog__content--active":this.isActive}},hasActivator:function(){return Boolean(!!this.$slots.activator||!!this.$scopedSlots.activator)}},watch:{isActive:function(t){var e;t?(this.show(),this.hideScroll()):(this.removeOverlay(),this.unbind(),null==(e=this.previousActiveElement)||e.focus())},fullscreen:function(t){this.isActive&&(t?(this.hideScroll(),this.removeOverlay(!1)):(this.showScroll(),this.genOverlay()))}},created:function(){this.$attrs.hasOwnProperty("full-width")&&Object(p["e"])("full-width",this)},beforeMount:function(){var t=this;this.$nextTick((function(){t.isBooted=t.isActive,t.isActive&&t.show()}))},beforeDestroy:function(){"undefined"!==typeof window&&this.unbind()},methods:{animateClick:function(){var t=this;this.animate=!1,this.$nextTick((function(){t.animate=!0,window.clearTimeout(t.animateTimeout),t.animateTimeout=window.setTimeout((function(){return t.animate=!1}),150)}))},closeConditional:function(t){var e=t.target;return!(this._isDestroyed||!this.isActive||this.$refs.content.contains(e)||this.overlay&&e&&!this.overlay.$el.contains(e))&&this.activeZIndex>=this.getMaxZIndex()},hideScroll:function(){this.fullscreen?document.documentElement.classList.add("overflow-y-hidden"):d["a"].options.methods.hideScroll.call(this)},show:function(){var t=this;!this.fullscreen&&!this.hideOverlay&&this.genOverlay(),this.$nextTick((function(){t.$nextTick((function(){t.previousActiveElement=document.activeElement,t.$refs.content.focus(),t.bind()}))}))},bind:function(){window.addEventListener("focusin",this.onFocusin)},unbind:function(){window.removeEventListener("focusin",this.onFocusin)},onClickOutside:function(t){this.$emit("click:outside",t),this.persistent?this.noClickAnimation||this.animateClick():this.isActive=!1},onKeydown:function(t){if(t.keyCode===g["y"].esc&&!this.getOpenDependents().length)if(this.persistent)this.noClickAnimation||this.animateClick();else{this.isActive=!1;var e=this.getActivator();this.$nextTick((function(){return e&&e.focus()}))}this.$emit("keydown",t)},onFocusin:function(t){if(t&&this.retainFocus){var e=t.target;if(e&&![document,this.$refs.content].includes(e)&&!this.$refs.content.contains(e)&&this.activeZIndex>=this.getMaxZIndex()&&!this.getOpenDependentElements().some((function(t){return t.contains(e)}))){var n=this.$refs.content.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex="-1"])'),i=Object(a["a"])(n).find((function(t){return!t.hasAttribute("disabled")}));i&&i.focus()}}},genContent:function(){var t=this;return this.showLazyContent((function(){return[t.$createElement(s["a"],{props:{root:!0,light:t.light,dark:t.dark}},[t.$createElement("div",{class:t.contentClasses,attrs:Object(i["a"])({role:"document",tabindex:t.isActive?0:void 0},t.getScopeIdAttrs()),on:{keydown:t.onKeydown},style:{zIndex:t.activeZIndex},ref:"content"},[t.genTransition()])])]}))},genTransition:function(){var t=this.genInnerContent();return this.transition?this.$createElement("transition",{props:{name:this.transition,origin:this.origin,appear:!0}},[t]):t},genInnerContent:function(){var t={class:this.classes,ref:"dialog",directives:[{name:"click-outside",value:{handler:this.onClickOutside,closeConditional:this.closeConditional,include:this.getOpenDependentElements}},{name:"show",value:this.isActive}],style:{transformOrigin:this.origin}};return this.fullscreen||(t.style=Object(i["a"])(Object(i["a"])({},t.style),{},{maxWidth:"none"===this.maxWidth?void 0:Object(g["g"])(this.maxWidth),width:"auto"===this.width?void 0:Object(g["g"])(this.width)})),this.$createElement("div",t,this.getContentSlot())}},render:function(t){return t("div",{staticClass:"v-dialog__container",class:{"v-dialog__container--attached":""===this.attach||!0===this.attach||"attach"===this.attach},attrs:{role:"dialog"}},[this.genActivator(),this.genContent()])}})},"368e":function(t,e,n){},5407:function(t,e,n){"use strict";var i=n("0122"),a=n("c964"),r=n("f3f3"),s=(n("96cf"),n("2f62")),o={data:function(){return{province:null,provincesLoading:!1}},computed:Object(r["a"])({},Object(s["b"])({provinces:"location/provincesList",selectedCountry:"location/selectedCountryId"})),watch:{province:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return e.provincesLoading=!0,n.next=4,e.$store.dispatch("location/filterProvinces",{search:t,country:e.country?"object"===Object(i["a"])(e.country)?e.country.id:e.country:""});case 4:e.provincesLoading=!1;case 5:case"end":return n.stop()}}),n)})))()}}};e["a"]=o},"7eee":function(t,e,n){"use strict";var i=n("c964"),a=n("f3f3"),r=(n("96cf"),n("2f62")),s={data:function(){return{country:null,countriesLoading:!1}},computed:Object(a["a"])({},Object(r["b"])({countries:"location/countriesList"})),watch:{country:function(t){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!t){n.next=5;break}return e.countriesLoading=!0,n.next=4,e.$store.dispatch("location/filterCountries",{search:t});case 4:e.countriesLoading=!1;case 5:case"end":return n.stop()}}),n)})))()}}};e["a"]=s},8583:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items?n("v-card",{staticClass:"mx-auto",attrs:{"max-width":"1000",flat:""}},[n("div",{staticClass:"py-6"}),n("v-data-table",{staticClass:"elevation-1 mx-4",attrs:{options:t.options,headers:t.headers,items:t.items.results,"server-items-length":t.getTotalPaginationData,"items-per-page":t.getItemsPerPageCount,loading:t.loading,"loading-text":"Loading districts...","footer-props":{showFirstLastPage:!0,disableItemsPerPage:!0,itemsPerPageOptions:[1,5,10,50],itemsPerPageText:"Rows per page:",pageText:t.options.page+"-"+t.getTotalPaginationData+" of "+t.getTotalPaginationData}},on:{"update:options":function(e){t.options=e}},scopedSlots:t._u([{key:"top",fn:function(){return[n("v-toolbar",{attrs:{flat:"",color:"grey lighten-2"}},[n("v-avatar",{staticClass:"elevation-2 table-avatar",attrs:{size:"30"}},[n("v-icon",{attrs:{color:"white",size:"20"}},[t._v(" mdi-map-marker-multiple-outline ")])],1),n("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:t.$vuetify.breakpoint.smAndUp,expression:"$vuetify.breakpoint.smAndUp"}],staticClass:"table-title pl-1"},[t._v(" Districts ")]),n("v-divider",{staticClass:"mx-4 search-follower",attrs:{inset:"",vertical:""}}),n("v-text-field",{staticClass:"search-follower",attrs:{solo:"",dense:"","hide-details":"",label:"",name:"search","prepend-inner-icon":"mdi-magnify",clearable:"",placeholder:"Search"},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),n("v-spacer"),n("v-divider",{staticClass:"mx-4 search-follower",attrs:{inset:"",vertical:""}}),n("v-btn",{attrs:{dark:"",color:"primary"},on:{click:function(e){return e.preventDefault(),t.openCreateFormDialog(e)}}},[n("v-icon",{class:t.$vuetify.breakpoint.smAndUp?"mr-2":"",attrs:{dark:""}},[t._v(" mdi-plus-circle ")]),t.$vuetify.breakpoint.smAndUp?n("span",[t._v("District")]):t._e()],1),n("add-district-form-dialog")],1)]},proxy:!0},{key:"item.name",fn:function(e){return[n("v-edit-dialog",{attrs:{dark:""},on:{save:function(n){return t.updateName(e.item)},open:function(n){return t.openNameUpdate(e.item.name)}},scopedSlots:t._u([{key:"input",fn:function(){return[n("v-text-field",{attrs:{label:"District Name","single-line":"",counter:""},model:{value:t.nameToUpdate,callback:function(e){t.nameToUpdate=e},expression:"nameToUpdate"}})]},proxy:!0}],null,!0),model:{value:e.item.name,callback:function(n){t.$set(e.item,"name",n)},expression:"props.item.name"}},[t._v(" "+t._s(e.item.name)+" ")])]}},{key:"item.created_at",fn:function(e){var n=e.item;return[t._v(" "+t._s(t.formatDate(n.created_at))+" ")]}},{key:"item.updated_at",fn:function(e){var n=e.item;return[t._v(" "+t._s(t.formatDate(n.updated_at))+" ")]}},{key:"item.actions",fn:function(e){var i=e.item;return[n("v-icon",{attrs:{small:"",color:"red"},on:{click:function(e){return t.openAdminDeleteItemDialog(i.id,i.name)}}},[t._v(" mdi-delete ")])]}}],null,!1,1530180769)}),n("admin-delete-item-dialog",{attrs:{"model-name":"district","delete-action":"location/deleteDistrict"}}),n("div",{staticClass:"py-6"})],1):t._e()},a=[],r=n("c964"),s=n("f3f3"),o=(n("d3b7"),n("25f0"),n("b0c0"),n("96cf"),n("2f62")),c=n("b9ae"),l=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-dialog",{attrs:{dark:"","max-width":"500px"},model:{value:t.createDialog,callback:function(e){t.createDialog=e},expression:"createDialog"}},[n("v-card",{attrs:{"min-height":"700"}},[n("v-card-title",{staticClass:"grey darken-4 elevation-4"},[n("span",{staticClass:"headline"},[t._v("New District")])]),n("div",{staticClass:"py-6"}),n("v-card-text",[n("v-container",[n("v-row",{staticClass:"ma-0 pa-0"},[n("v-col",{attrs:{cols:"12"}},[n("text-field",{attrs:{name:"name",label:"Name",errors:t.addFormErrors,icon:"mdi-format-title"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),n("v-col",{attrs:{cols:"12"}},[n("country-field",{attrs:{items:t.countries.results,province:t.editedItem.province,loading:t.countriesLoading,errors:t.addFormErrors},model:{value:t.editedItem.country,callback:function(e){t.$set(t.editedItem,"country",e)},expression:"editedItem.country"}})],1),n("v-col",{attrs:{cols:"12"}},[n("province-field",{attrs:{items:t.provinces.results,country:t.editedItem.country,district:null,loading:t.provincesLoading,errors:t.addFormErrors},model:{value:t.editedItem.province,callback:function(e){t.$set(t.editedItem,"province",e)},expression:"editedItem.province"}})],1)],1)],1)],1),n("v-card-actions",{staticClass:"mx-6"},[n("v-spacer"),n("v-btn",{attrs:{color:"error darken-1",text:""},on:{click:t.closeDialog}},[t._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.createDistrict}},[t._v(" Save ")])],1)],1)],1)},d=[],u=n("7eee"),m=n("5407"),v=n("7d85"),h=n("a43b"),f=(n("3022"),{name:"AddDistrictFormDialog",mixins:[u["a"],m["a"],v["a"]],data:function(){return{createDialog:!1,editedItem:{name:null,province:null,country:null},addFormErrors:{}}},created:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.$bus.on("open-add-district-form",t.openDialog);case 1:case"end":return e.stop()}}),e)})))()},beforeUnmount:function(){this.$bus.off("open-add-district-form")},methods:{openDialog:function(){this.createDialog=!0,this.addFormErrors={}},closeDialog:function(){var t={name:null,province:null};this.addFormErrors=t,this.editedItem=t,this.createDialog=!1},createDistrict:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$api.post(h.location.districtList,{name:t.editedItem.name,province:t.editedItem.province});case 3:return e.next=5,t.openSnack("District added successfully","success");case 5:t.closeDialog(),t.$bus.emit("reload"),e.next=18;break;case 9:if(e.prev=9,e.t0=e["catch"](0),n=parseInt(e.t0.response.status.toString()),400!==n){e.next=16;break}t.addFormErrors=e.t0.response.data,e.next=18;break;case 16:return e.next=18,t.openSnack("District create failed");case 18:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}}),p=f,g=n("2877"),b=n("6544"),x=n.n(b),k=n("8336"),y=n("b0af"),w=n("99d9"),C=n("62ad"),_=n("a523"),D=n("169a"),O=n("0fd9"),$=n("2fa4"),A=Object(g["a"])(p,l,d,!1,null,null,null),T=A.exports;x()(A,{VBtn:k["a"],VCard:y["a"],VCardActions:w["a"],VCardText:w["c"],VCardTitle:w["d"],VCol:C["a"],VContainer:_["a"],VDialog:D["a"],VRow:O["a"],VSpacer:$["a"]});var j=n("7400"),I=n("a43b"),E=n("3022"),S={name:"DistrictTable",components:{AddDistrictFormDialog:T},mixins:[c["a"],j["a"]],data:function(){return{headers:[{text:"actions",sortable:!1,value:"actions"},{text:"ID",value:"id"},{text:"NAME",value:"name"},{text:"CREATED AT",value:"created_at"},{text:"UPDATED AT",value:"updated_at"}],nameToUpdate:null,mixinData:{modelName:"District",deleteAction:"location/deleteDistrict"}}},computed:Object(s["a"])({},Object(o["b"])({districts:"location/districtsList"})),methods:{openCreateFormDialog:function(){this.$bus.emit("open-add-district-form")},initialize:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.loading=!0,t||(t=1),n.next=4,e.$store.dispatch("location/fetchAllDistricts",{page:t});case 4:e.items=e.districts,e.totalItems=e.districts.count,e.loading=!1;case 7:case"end":return n.stop()}}),n)})))()},updateName:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e.$api.patch(E.format(I.location.districtDetail,t.id),{name:e.nameToUpdate});case 3:return n.next=5,e.openSnack("District updated successfully","success");case 5:n.next=17;break;case 7:if(n.prev=7,n.t0=n["catch"](0),i=parseInt(n.t0.response.status.toString()),400!==i){n.next=15;break}return n.next=13,e.openSnack(n.t0.response.data["name"][0]);case 13:n.next=17;break;case 15:return n.next=17,e.openSnack("District update failed");case 17:return n.next=19,e.initialize(e.options.page);case 19:case"end":return n.stop()}}),n,null,[[0,7]])})))()},openNameUpdate:function(t){this.nameToUpdate=t}}},V=S,B=n("8212"),F=n("8fea"),L=n("ce7e"),P=(n("c79c"),n("e4d3")),R=n("7560"),U=n("80d2"),N=n("afdd"),z=n("326d"),Z=n("58df"),M=Object(Z["a"])(P["a"],R["a"]).extend({name:"v-edit-dialog",props:{cancelText:{default:"Cancel"},large:Boolean,eager:Boolean,persistent:Boolean,saveText:{default:"Save"},transition:{type:String,default:"slide-x-reverse-transition"}},data:function(){return{isActive:!1}},watch:{isActive:function(t){t?(this.$emit("open"),setTimeout(this.focus,50)):this.$emit("close")}},methods:{cancel:function(){this.isActive=!1,this.$emit("cancel")},focus:function(){var t=this.$refs.content.querySelector("input");t&&t.focus()},genButton:function(t,e){return this.$createElement(N["a"],{props:{text:!0,color:"primary",light:!0},on:{click:t}},e)},genActions:function(){var t=this;return this.$createElement("div",{class:"v-small-dialog__actions"},[this.genButton(this.cancel,this.cancelText),this.genButton((function(){t.save(t.returnValue),t.$emit("save")}),this.saveText)])},genContent:function(){var t=this;return this.$createElement("div",{staticClass:"v-small-dialog__content",on:{keydown:function(e){e.keyCode===U["y"].esc&&t.cancel(),e.keyCode===U["y"].enter&&(t.save(t.returnValue),t.$emit("save"))}},ref:"content"},[this.$slots.input])}},render:function(t){var e=this;return t(z["a"],{staticClass:"v-small-dialog",class:this.themeClasses,props:{contentClass:"v-small-dialog__menu-content",transition:this.transition,origin:"top right",right:!0,value:this.isActive,closeOnClick:!this.persistent,closeOnContentClick:!1,eager:this.eager,light:this.light,dark:this.dark},on:{input:function(t){return e.isActive=t}},scopedSlots:{activator:function(n){var i=n.on;return t("div",{staticClass:"v-small-dialog__activator",on:i},[t("span",{staticClass:"v-small-dialog__activator__content"},e.$slots.default)])}}},[this.genContent(),this.large?this.genActions():null])}}),W=n("132d"),q=n("8654"),J=n("71d9"),K=n("2a7f"),G=Object(g["a"])(V,i,a,!1,null,"39163b5a",null);e["default"]=G.exports;x()(G,{VAvatar:B["a"],VBtn:k["a"],VCard:y["a"],VDataTable:F["a"],VDivider:L["a"],VEditDialog:M,VIcon:W["a"],VSpacer:$["a"],VTextField:q["a"],VToolbar:J["a"],VToolbarTitle:K["b"]})},"99d9":function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c}));var i=n("b0af"),a=n("80d2"),r=Object(a["i"])("v-card__actions"),s=Object(a["i"])("v-card__subtitle"),o=Object(a["i"])("v-card__text"),c=Object(a["i"])("v-card__title");i["a"]},c79c:function(t,e,n){}}]);
//# sourceMappingURL=chunk-36227f0c.d75e8de6.js.map