(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f975ab60"],{"27fd":function(e,t,r){"use strict";r("35c2")},"35c2":function(e,t,r){},"43db":function(e,t,r){e.exports=r.p+"img/noPostsImg.1a99b482.jpg"},"9bbb":function(e,t,r){"use strict";r.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.posts?n("div",[n("v-overlay",{attrs:{value:e.loading}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),0===e.posts.length?n("no-home-data",{attrs:{image:r("43db")}}):n("div",{staticStyle:{"min-height":"100vh"}},[e._l(e.posts,(function(t){return n("div",{key:t.id,staticClass:"mb-2"},[n("base-post-card",{attrs:{post:t},scopedSlots:e._u([{key:"media",fn:function(){return[n("v-col",{staticClass:"pt-0 px-2",attrs:{cols:"12"}},[n("v-card",{attrs:{height:"40vh",dark:""}},[n("v-carousel",{attrs:{height:"40vh","hide-delimiters":"","show-arrows-on-hover":""},scopedSlots:e._u([{key:"next",fn:function(r){var a=r.on,i=r.attrs;return[n("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.moreThanOneItem(t),expression:"moreThanOneItem(post)"}],style:e.carouselNavItemStyle,attrs:{dark:"",icon:""},on:{click:function(t){return e.pauseAllPlaying()}}},"v-btn",i,!1),a),[n("v-icon",[e._v("mdi-chevron-right")])],1)]}},{key:"prev",fn:function(r){var a=r.on,i=r.attrs;return[n("v-btn",e._g(e._b({directives:[{name:"show",rawName:"v-show",value:e.moreThanOneItem(t),expression:"moreThanOneItem(post)"}],style:e.carouselNavItemStyle,attrs:{dark:"",icon:""},on:{click:function(t){return e.pauseAllPlaying()}}},"v-btn",i,!1),a),[n("v-icon",[e._v("mdi-chevron-left")])],1)]}}],null,!0)},[e._l(t["multimedia_images"],(function(t){return n("v-carousel-item",{key:e.$helper.replaceBackendHost(t.image)},[n("v-card",{attrs:{height:"40vh"}},[n("v-img",{attrs:{src:e.$helper.replaceBackendHost(t.image),height:"40vh"}})],1)],1)})),e._l(t["multimedia_videos"],(function(t){return n("v-carousel-item",{key:e.$helper.replaceBackendHost(t.video)},[n("v-card",{staticClass:"ma-0 pa-0",attrs:{height:"40vh","max-width":"100%",dark:""}},[n("video",{attrs:{poster:e.$helper.replaceBackendHost(t.poster),controls:"",height:"100%",width:"100%",src:e.$helper.replaceBackendHost(t.video)},on:{play:e.onPlay}})])],1)})),e._l(t["multimedia_video_urls"],(function(t){return n("v-carousel-item",{key:t.video_url},[n("youtube",{ref:"yt",refInFor:!0,attrs:{height:"100%",width:"100%","video-id":e.$youtube.getIdFromUrl(t.video_url),nocookie:"","player-vars":e.playerVars},on:{playing:e.playing}})],1)}))],2)],1)],1)]},proxy:!0}],null,!0)})],1)})),!e.loading&&e.posts.length>0?n("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:e.handleScrollToBottom,expression:"handleScrollToBottom"}]}):e._e()],2)],1):e._e()},a=[],i=r("2909"),o=r("1da1"),s=r("5530"),u=(r("96cf"),r("d3b7"),r("3ca3"),r("ddb0"),r("99af"),r("a7b3")),c=r("2f62"),l={name:"MultimediaList",components:{BasePostCard:function(){return Promise.all([r.e("chunk-76213d3f"),r.e("chunk-702f994c")]).then(r.bind(null,"ebae"))},NoHomeData:function(){return r.e("chunk-372e2aae").then(r.bind(null,"006b"))}},mixins:[u["a"]],data:function(){return{carouselNavItemStyle:"height: 30px !important; width: 30px !important;",dialog:!1,playerVars:{autoplay:0,origin:window.location.href},loading:!0,posts:[],next:{next:null,count:0}}},computed:Object(s["a"])({},Object(c["b"])({multimedias:"multimedia/list"})),created:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.init();case 2:case"end":return t.stop()}}),t)})))()},methods:{init:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.multimedias.count){t.next=3;break}return t.next=3,e.$store.dispatch("multimedia/filter",{is_approved:!0});case 3:(r=e.posts).push.apply(r,Object(i["a"])(e.multimedias.results)),e.loading=!1;case 5:case"end":return t.stop()}}),t)})))()},pauseAllPlaying:function(){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.pauseAllYt();case 2:return t.next=4,e.pauseAllPlayingHTMLVideos();case 4:case"end":return t.stop()}}),t)})))()},moreThanOneItem:function(e){var t=e["multimedia_images"],r=e["multimedia_videos"],n=e["multimedia_video_urls"],a=[];return a=a.concat(t),a=a.concat(r),a=a.concat(n),a.length>1},handleScrollToBottom:function(e){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=12;break}if(0!==t.next.count){r.next=5;break}return t.next.next=t.multimedias.next,t.next.count++,r.abrupt("return");case 5:if(!(t.next.next&&t.next.count>=1)){r.next=12;break}return t.next.count++,r.next=9,t.$api.getWithPayload(t.next.next);case 9:a=r.sent,(n=t.posts).push.apply(n,Object(i["a"])(a.results)),t.next.next=a.next;case 12:case"end":return r.stop()}}),r)})))()}}},d=l,m=(r("27fd"),r("2877")),p=r("6544"),h=r.n(p),v=r("8336"),f=r("b0af"),g=r("5e66"),y=r("3e35"),w=r("62ad"),b=r("132d"),x=r("adda"),k=r("a797"),_=r("490a"),O=Object(m["a"])(d,n,a,!1,null,"1e0de3c6",null);t["default"]=O.exports;h()(O,{VBtn:v["a"],VCard:f["a"],VCarousel:g["a"],VCarouselItem:y["a"],VCol:w["a"],VIcon:b["a"],VImg:x["a"],VOverlay:k["a"],VProgressCircular:_["a"]})},a7b3:function(e,t,r){"use strict";var n=r("1da1"),a=(r("96cf"),r("159b"),{computed:{player:function(){return this.$refs.youtube.yt}},created:function(){window.addEventListener("scroll",this.handleScroll);var e=document.querySelector(".router-column");e&&e.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll);var e=document.querySelector(".router-column");e&&e.removeEventListener("scroll",this.handleScroll)},methods:{isElementOnViewPort:function(e){if(!e)return!1;var t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.right<=(window.innerWidth||document.documentElement.clientWidth)&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)},handleScroll:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=document.querySelectorAll("video"),r.forEach((function(t){var r=e.isElementOnViewPort(t);r||t.paused||t.pause()})),!Array.isArray(e.$refs.yt)){t.next=5;break}return t.next=5,e.$refs.yt.forEach(function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(r){var n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,r.player.getPlayerState();case 2:if(n=t.sent,a=e.isElementOnViewPort(r.$parent.$el),a){t.next=8;break}if(1!==n){t.next=8;break}return t.next=8,r.player.pauseVideo();case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 5:case"end":return t.stop()}}),t)})))()},onPlay:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,t.pauseAllYt();case 2:document.querySelectorAll("video").forEach((function(t){t!==e.currentTarget&&(t.paused||t.pause())}));case 3:case"end":return r.stop()}}),r)})))()},pauseAllPlayingHTMLVideos:function(){document.querySelectorAll("video").forEach((function(e){e.paused||e.pause()}))},playing:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.pauseAllPlayingHTMLVideos(),!Array.isArray(e.$refs.yt)){t.next=4;break}return t.next=4,e.$refs.yt.forEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.player.get){e.next=3;break}return e.next=3,t.player.pauseVideo();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:case"end":return t.stop()}}),t)})))()},pauseAllYt:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!Array.isArray(e.$refs.yt)){t.next=3;break}return t.next=3,e.$refs.yt.forEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.player.getPlayerState();case 2:r=e.sent,1===r&&t.player.pauseVideo();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})))()}}});t["a"]=a}}]);
//# sourceMappingURL=chunk-f975ab60.88417207.js.map