(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5ce78b1b","chunk-2d0e6c6b","chunk-2d0e6c6b","chunk-2d0e6c6b","chunk-2d0e6c6b"],{"0315":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.target?a("v-card",{staticClass:"mx-auto",attrs:{tile:"",flat:"",loading:t.loading}},[a("v-row",{attrs:{"no-gutters":""}},[a("v-col",{attrs:{cols:"12"}},[t._t("media")],2),a("v-col",{attrs:{cols:"12"}},[a("div",{attrs:{id:"postDetail"}},[a("div",{staticClass:"py-2"}),t.target["uploaded_by"]?a("v-card-title",{staticClass:"pt-0 white--text display-1"},[a("div",[t._v(" "+t._s(t.target.title)+" "),a("v-btn",{attrs:{icon:""},on:{click:t.openUpdateName}},[t.ifWriterIsCurrentUser?a("v-icon",{attrs:{size:"22",color:"primary"}},[t._v(" mdi-pencil ")]):t._e()],1)],1)]):t._e(),a("v-slide-y-transition",[t.showTitleUpdate?a("v-text-field",{staticClass:"px-2",attrs:{counter:"255",solo:"","prepend-inner-icon":"mdi-text"},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-btn",{staticClass:"send-icon-button",attrs:{color:"indigo",icon:"","x-small":""},on:{click:t.updateName}},[a("v-icon",[t._v(" mdi-send ")])],1)]},proxy:!0}],null,!1,3349715948),model:{value:t.titleToUpdate,callback:function(e){t.titleToUpdate=e},expression:"titleToUpdate"}}):t._e()],1),a("v-divider"),a("v-card-subtitle",{staticClass:"post-auth-subtitle"},[a("span",[a("v-icon",{staticClass:"post-auth-icon pr-1",attrs:{size:"16",color:"primary"}},[t._v("mdi-account-circle")])],1),t.target["uploaded_by"]?a("span",[t._v(t._s(t.writer))]):t._e(),a("span",[a("v-icon",{staticClass:"post-auth-icon pl-1",attrs:{size:"16",color:"teal"}},[t._v("mdi-calendar-plus")])],1),t._v(" "+t._s(t.formatDate(t.target["timestamp"]))+" "),a("span",[a("v-icon",{staticClass:"post-auth-icon",attrs:{size:"16",color:"green"}},[t._v("mdi-calendar-check")])],1),t._v(" "+t._s(t.formatDate(t.target.approved_at))+" ")]),t.target.description?a("v-card-text",{staticClass:"py-0 pb-2"},[t._v(" "+t._s(t.target.description)+" "),a("span",[a("v-btn",{attrs:{"x-small":"",color:"primary",icon:""},on:{click:t.openUpdateDescription}},[a("v-icon",[t._v("mdi-pencil")])],1)],1)]):t._e(),a("v-slide-y-transition",[t.showDescriptionUpdate?a("v-textarea",{staticClass:"mx-3",attrs:{counter:"10000","auto-grow":"",solo:"","prepend-inner-icon":"mdi-text"},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-btn",{staticClass:"send-icon-button",attrs:{icon:"",color:"indigo","x-small":""},on:{click:t.updateDescription}},[a("v-icon",[t._v(" mdi-send ")])],1)]},proxy:!0}],null,!1,820044109),model:{value:t.descriptionUpdate,callback:function(e){t.descriptionUpdate=e},expression:"descriptionUpdate"}}):t._e()],1),a("v-divider"),a("v-card-text",{staticClass:"py-6 d-flex justify-center align-center"},[a("span",[a("IconWithTooltip",{staticClass:"px-2",attrs:{icon:"mdi-check-decagram",color:t.target.is_approved?"green darken-1":"grey darken-1",tooltip:"Approved"}}),a("IconWithTooltip",{staticClass:"px-2",attrs:{icon:"mdi-account-music",color:"blue darken-1",tooltip:"Follower"}}),t.ifWriterIsMember?a("IconWithTooltip",{staticClass:"px-1",attrs:{icon:"mdi-account-network",color:"blue darken-1",tooltip:"Member"}}):t._e(),a("IconWithTooltip",{staticClass:"px-2",attrs:{icon:"mdi-video",color:"orange darken-3",tooltip:"Multimedia"}})],1)]),a("v-divider")],1),t.target?a("PostDetailActionsComponent",{attrs:{target:t.target}}):t._e(),a("v-divider")],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"py-12"})]),a("v-col",{attrs:{cols:"12"}},[t._t("comments")],2),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"py-4"})]),a("v-col",{attrs:{cols:"12"}},[a("v-text-field",{staticClass:"comment",attrs:{filled:"",placeholder:"Add a comment","hide-details":"auto",clearable:"","prepend-inner-icon":"mdi-comment"},scopedSlots:t._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"send-icon-button",attrs:{color:"primary"},on:{click:t.addCommentToPost}},[t._v(" mdi-send ")])]},proxy:!0}],null,!1,3456481709),model:{value:t.comment.comment,callback:function(e){t.$set(t.comment,"comment",e)},expression:"comment.comment"}})],1),a("v-col",{attrs:{cols:"12"}},[a("div",{staticClass:"py-12"})])],1)],1):t._e()},n=[],o=a("c964"),r=a("f3f3"),s=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("a4d3"),a("e01a"),a("2f62")),c={name:"BasePostDetailComponent",components:{IconWithTooltip:function(){return a.e("chunk-c91afbd0").then(a.bind(null,"18ff"))},PostDetailActionsComponent:function(){return a.e("chunk-382320a3").then(a.bind(null,"5d14"))}},props:{target:{type:Object,required:!0}},data:function(){return{loading:!1,isFollower:!1,isMember:!0,showTitleUpdate:!1,showDescriptionUpdate:!1,comment:{comment:null,multimedia:null},titleToUpdate:null,descriptionUpdate:null}},computed:Object(r["a"])(Object(r["a"])({},Object(s["b"])({snackText:"snack/snackText",snackColor:"snack/snackColor"})),{},{snack:{get:function(){return this.$store.state.snack.snack},set:function(t){this.$store.dispatch("snack/setSnackState",t)}},ifWriterIsCurrentUser:function(){return this.$helper.getCurrentUser().username===this.target["uploaded_by"]["username"]},writer:function(){return this.target["uploaded_by"]["username"]},ifWriterIsMember:function(){var t=this.target["uploaded_by"];return null!==t.member}}),created:function(){this.titleToUpdate=this.target.title,this.descriptionUpdate=this.target.description},methods:{openUpdateName:function(){this.showTitleUpdate=!this.showTitleUpdate,this.titleToUpdate=this.target.title},openUpdateDescription:function(){this.showDescriptionUpdate=!this.showDescriptionUpdate,this.descriptionUpdate=this.target.description},updatePost:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.$store.dispatch("multimedia/patch",{id:e.target.id,body:t});case 2:case"end":return a.stop()}}),a)})))()},updateName:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updatePost({title:t.titleToUpdate});case 2:t.showTitleUpdate=!1;case 3:case"end":return e.stop()}}),e)})))()},updateDescription:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.updatePost({description:t.descriptionUpdate});case 2:t.showDescriptionUpdate=!1;case 3:case"end":return e.stop()}}),e)})))()},formatDate:function(t){return this.$moment(t).format("MMMM Do YYYY")},addCommentToPost:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.comment.multimedia=t.target.id,e.next=3,t.$store.dispatch("post/postComment",{body:t.comment});case 3:t.$bus.emit("refresh-comment-in-details-page"),t.comment.comment="";case 5:case"end":return e.stop()}}),e)})))()}}},l=c,d=(a("6711"),a("2877")),u=a("6544"),p=a.n(u),m=a("8336"),h=a("b0af"),v=a("99d9"),f=a("62ad"),b=a("ce7e"),g=a("132d"),w=a("0fd9"),x=a("0789"),_=a("8654"),k=a("a844"),C=Object(d["a"])(l,i,n,!1,null,"23e587a1",null);e["default"]=C.exports;p()(C,{VBtn:m["a"],VCard:h["a"],VCardSubtitle:v["b"],VCardText:v["c"],VCardTitle:v["d"],VCol:f["a"],VDivider:b["a"],VIcon:g["a"],VRow:w["a"],VSlideYTransition:x["g"],VTextField:_["a"],VTextarea:k["a"]})},1681:function(t,e,a){},6711:function(t,e,a){"use strict";a("bdf6")},"8ce9":function(t,e,a){},"99d9":function(t,e,a){"use strict";a.d(e,"a",(function(){return o})),a.d(e,"b",(function(){return r})),a.d(e,"c",(function(){return s})),a.d(e,"d",(function(){return c}));var i=a("b0af"),n=a("80d2"),o=Object(n["i"])("v-card__actions"),r=Object(n["i"])("v-card__subtitle"),s=Object(n["i"])("v-card__text"),c=Object(n["i"])("v-card__title");i["a"]},a844:function(t,e,a){"use strict";var i=a("f3f3"),n=(a("a9e3"),a("1681"),a("8654")),o=a("58df"),r=Object(o["a"])(n["a"]);e["a"]=r.extend({name:"v-textarea",props:{autoGrow:Boolean,noResize:Boolean,rowHeight:{type:[Number,String],default:24,validator:function(t){return!isNaN(parseFloat(t))}},rows:{type:[Number,String],default:5,validator:function(t){return!isNaN(parseInt(t,10))}}},computed:{classes:function(){return Object(i["a"])({"v-textarea":!0,"v-textarea--auto-grow":this.autoGrow,"v-textarea--no-resize":this.noResizeHandle},n["a"].options.computed.classes.call(this))},noResizeHandle:function(){return this.noResize||this.autoGrow}},watch:{lazyValue:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)},rowHeight:function(){this.autoGrow&&this.$nextTick(this.calculateInputHeight)}},mounted:function(){var t=this;setTimeout((function(){t.autoGrow&&t.calculateInputHeight()}),0)},methods:{calculateInputHeight:function(){var t=this.$refs.input;if(t){t.style.height="0";var e=t.scrollHeight,a=parseInt(this.rows,10)*parseFloat(this.rowHeight);t.style.height=Math.max(a,e)+"px"}},genInput:function(){var t=n["a"].options.methods.genInput.call(this);return t.tag="textarea",delete t.data.attrs.type,t.data.attrs.rows=this.rows,t},onInput:function(t){n["a"].options.methods.onInput.call(this,t),this.autoGrow&&this.calculateInputHeight()},onKeyDown:function(t){this.isFocused&&13===t.keyCode&&t.stopPropagation(),this.$emit("keydown",t)}}})},bdf6:function(t,e,a){},ce7e:function(t,e,a){"use strict";var i=a("f3f3"),n=(a("8ce9"),a("7560"));e["a"]=n["a"].extend({name:"v-divider",props:{inset:Boolean,vertical:Boolean},render:function(t){var e;return this.$attrs.role&&"separator"!==this.$attrs.role||(e=this.vertical?"vertical":"horizontal"),t("hr",{class:Object(i["a"])({"v-divider":!0,"v-divider--inset":this.inset,"v-divider--vertical":this.vertical},this.themeClasses),attrs:Object(i["a"])({role:"separator","aria-orientation":e},this.$attrs),on:this.$listeners})}})}}]);
//# sourceMappingURL=chunk-5ce78b1b.7d086ca1.js.map