(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76a35c28","chunk-2d0e6c6b","chunk-2d0e6c6b","chunk-2d0e6c6b","chunk-2d0e6c6b"],{"214b":function(e,t,a){},7400:function(e,t,a){"use strict";var n={methods:{openAdminDeleteItemDialog:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.$bus.emit("openAdminDeleteDialog",{itemId:e,itemText:t,action:a})}}};t["a"]=n},"82d2":function(e,t,a){e.exports=a.p+"img/noEventPhotos.7b4baae0.jpg"},"99d9":function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return c})),a.d(t,"d",(function(){return o}));var n=a("b0af"),i=a("80d2"),s=Object(i["i"])("v-card__actions"),r=Object(i["i"])("v-card__subtitle"),c=Object(i["i"])("v-card__text"),o=Object(i["i"])("v-card__title");n["a"]},d218:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.event?n("v-card",{staticClass:"event-tab",attrs:{flat:""}},[e.imageURLs.length>0?n("v-row",{attrs:{"no-gutters":"",justify:"center",align:"center"}},e._l(e.imageURLs,(function(t,a){return n("v-col",{key:a,staticClass:"image-to-upload-col",attrs:{cols:"12",xl:"4",md:"4",lg:"4",sm:"4"}},[n("v-img",{staticClass:"image-to-upload",attrs:{src:t,"max-width":"220",height:"130"}},[n("v-btn",{staticClass:"ma-2",attrs:{fab:"","x-small":""}},[n("v-icon",{staticClass:"badge-close",on:{click:function(t){return e.removeUploadToImage(a)}}},[e._v(" mdi-close ")])],1)],1)],1)})),1):e._e(),e.event.created_by?n("v-card-text",[e.$helper.ifWriterIsCurrentUser(e.event.created_by.username)?n("div",{staticClass:"upload-image-container"},[n("div",{staticClass:"upload-image cursor",on:{click:function(t){return e.$refs.eventImageInput.click()}}},[e._v(" Add image to event ")]),n("input",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"eventImageInput",staticClass:"file-input",attrs:{id:"event-image-input",type:"file",multiple:"",accept:"image/*"},on:{change:e.eventImagesForUploadChanged}})]):e._e(),e.images.length>0?n("div",{staticClass:"d-flex justify-center pa-2"},[n("v-btn",{attrs:{color:"orange",dark:""},on:{click:e.uploadEventImages}},[e._v(" Upload ")])],1):e._e()]):e._e(),e.event.images?n("div",[0===e.event.images.length?n("v-card-text",[n("v-card",{staticClass:"no-photos"},[n("v-img",{attrs:{height:"300",src:a("82d2")}},[n("div",{staticClass:"fill-height d-flex align-center justify-center"},[n("h3",{staticClass:"white--text"},[e._v(" No photos added yet! ")])])])],1)],1):e._e()],1):e._e(),n("v-row",{staticClass:"pa-1",attrs:{"no-gutters":""}},e._l(e.event.images,(function(t){return n("v-col",{key:t.id,staticClass:"pa-1",attrs:{cols:"12",xl:"4",lg:"4",md:"4",sm:"4"}},[n("card-img",{attrs:{src:t.image,height:"200"}},[n("v-btn",{staticClass:"action-btn",attrs:{icon:""}},[n("v-icon",{staticClass:"badge-close",attrs:{color:"error"},on:{click:function(a){return e.openAdminDeleteItemDialog(t.id,"image")}}},[e._v(" mdi-delete ")])],1)],1)],1)})),1),n("admin-delete-item-dialog",{attrs:{"model-name":"event","delete-action":"event/deleteImage"},on:{reload:function(t){return e.$emit("reload")}}})],1):e._e()},i=[],s=a("c964"),r=a("f3f3"),c=(a("96cf"),a("d3b7"),a("3ca3"),a("ddb0"),a("2b3d"),a("159b"),a("a434"),a("ba7d")),o=a("7400"),d=a("2f62"),l={name:"EventPhotos",mixins:[o["a"]],emits:["reload"],data:function(){return{eventImagesForUpload:[],images:[],imageURLs:[]}},computed:Object(r["a"])({},Object(d["b"])({event:"event/detail"})),methods:{eventImagesForUploadChanged:function(e){var t=this;if("event-image-input"===e.target.getAttribute("id")){var a=window.URL||window.webkitURL;e.target.files.forEach((function(e){t.images.push(e),t.imageURLs.push(a.createObjectURL(e))}))}},uploadEventImages:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["getFormData"])({images:e.images});case 2:return a=t.sent,t.next=5,e.$store.dispatch("event/addImageListFor",{id:e.event.id,body:a});case 5:if(n=t.sent,!n){t.next=11;break}return t.next=9,e.$store.dispatch("event/fetchSingle",{id:e.$route.params.id});case 9:e.imageURLs=[],e.images=[];case 11:case"end":return t.stop()}}),t)})))()},removeUploadToImage:function(e){this.images.splice(e,1),this.imageURLs.splice(e,1)}}},u=l,m=(a("fa69"),a("2877")),g=a("6544"),v=a.n(g),f=a("8336"),p=a("b0af"),h=a("99d9"),b=a("62ad"),_=a("132d"),w=a("adda"),C=a("0fd9"),x=Object(m["a"])(u,n,i,!1,null,null,null);t["default"]=x.exports;v()(x,{VBtn:f["a"],VCard:p["a"],VCardText:h["c"],VCol:b["a"],VIcon:_["a"],VImg:w["a"],VRow:C["a"]})},fa69:function(e,t,a){"use strict";a("214b")}}]);
//# sourceMappingURL=chunk-76a35c28.1a638f3d.js.map